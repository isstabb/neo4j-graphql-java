:toc:

= #402

== Source schema

[source,graphql,schema=true]
----
type Event {
  id: ID!
  area: Area! @relationship(type: "HAPPENS_IN", direction: OUT)
}

type Area {
  id: ID!
}
----

== Configuration

.Configuration
[source,json,schema-config=true]
----
{
  "enableRegex": true
}
----
== Should ignore the empty array and not include any where

.GraphQL-Query
[source,graphql]
----
query ($area: [ID!]) {
  events(where: {area: {id_IN: $area}}) {
    id
    area {
      id
    }
  }
}
----

.Expected Cypher params
[source,json]
----
{}
----

.Expected Cypher output
[source,cypher]
----
MATCH (this:Event)
CALL {
	WITH this
	MATCH (this)-[this0:HAPPENS_IN]->(this_area:Area)
	WITH this_area {
		.id
	} AS this_area
	RETURN head(collect(this_area)) AS this_area
}
RETURN this {
	.id,
	area: this_area
} AS this
----

'''

